# Repository Guidelines

## Project Structure & Module Organization
- `src/`: TypeScript sources; entry is `src/extension.ts`.
- `out/`: Transpiled JavaScript (ES2020, CommonJS) generated by `tsc`.
- `.vscode/`: Launch tasks for running the Extension Host.
- `package.json`: VS Code contribution points and scripts (`locore.openCodeReview`, `locore.createReview`).
- Runtime: the extension creates a workspace-level `.codereview/` directory if missing.

## Build, Test, and Development Commands
- `npm install`: Install dependencies.
- `npm run compile`: Type-check and build to `out/`.
- `npm run watch`: Incremental compile on file changes.
- Debug: open the repo in VS Code and press `F5` (Run Extension). This launches a new Extension Host with your changes.
- Prepublish: `npm run vscode:prepublish` runs `compile` before packaging (used by `vsce package`).

## Coding Style & Naming Conventions
- Language: TypeScript with `strict` mode (see `tsconfig.json`).
- Indentation: 4 spaces; use single quotes and semicolons.
- Names: `camelCase` for functions/vars, `PascalCase` for types/classes, `kebab-case` for filenames (e.g., `comment-controller.ts`).
- Commands: prefix VS Code command IDs with `locore.` (e.g., `locore.createReview`).

## Testing Guidelines
- Framework: no automated tests yet. Validate manually in the Extension Host.
- Manual checks: 
  - Verify `.codereview/` is created at workspace root on activation.
  - Confirm commands run: `LoCoRe: Open CodeReview` and `Create Review` (inline comment menu).
- Future: if adding tests, prefer `@vscode/test-electron`; name tests `*.test.ts` and keep in `src/` alongside units.

## Commit & Pull Request Guidelines
- Commits: short, imperative subject lines (English or Japanese OK). Include scope when helpful.
  - Examples: `feat(comment): create review thread`, `fix(init): handle no workspace`, `コメント追加`.
- PRs: clear description, linked issues (`Fixes #123`), before/after screenshots or short GIFs for UI changes, and testing notes (commands run, scenarios covered).

## Security & Configuration Tips
- File I/O: write only under the current workspace (e.g., `.codereview/`).
- Activation: guard commands when no workspace is open.
- No network calls present; keep the extension offline by default.

## Communication Language

**IMPORTANT: Always respond in Japanese (日本語) when working in this repository.** All explanations, error messages, and communication should be in Japanese to match the project's primary language and documentation.